{"version":3,"file":"pagetransitions.cjs","sources":["../src/enums.ts","../src/store.ts","../src/context.ts","../src/utils.ts","../src/PageWrapper.tsx","../src/PageTransitions.tsx","../src/usePageTransition.tsx"],"sourcesContent":["export const enum TransitionState {\n  SUSPENDED = \"suspended\", // waiting to mount or suspended\n  APPEAR = \"appear\",\n  APPEARING = \"appearing\",\n  APPEARED = \"appeared\",\n  EXIT = \"exit\",\n  EXITING = \"exiting\",\n  EXITED = \"exited\",\n  ENTER = \"enter\",\n  ENTERING = \"entering\",\n  ENTERED = \"entered\",\n}\n","import create from \"zustand/vanilla\";\nimport createHook from \"zustand\";\n\nimport { TransitionState } from \"./enums\";\n\nexport type TransitionConfig = {\n  from?: string;\n  to?: string;\n  data?: any;\n};\n\ntype Store = {\n  transitionStateTo: TransitionState;\n  transitionStateFrom: TransitionState;\n  transitionConfig: TransitionConfig | null;\n  exitDone: () => void;\n  enterDone: () => void;\n  from: string | null;\n  to: string | null;\n  data: any;\n  onEnteringCount: number;\n  onExitingCount: number;\n  applyTransitionConfig: () => void;\n};\n\nconst store = create<Store>((set) => ({\n  transitionStateTo: TransitionState.SUSPENDED,\n  transitionStateFrom: TransitionState.SUSPENDED,\n  transitionConfig: null,\n  exitDone: () => {},\n  enterDone: () => {},\n  from: null,\n  to: null,\n  data: null,\n  onEnteringCount: 0,\n  onExitingCount: 0,\n  applyTransitionConfig: () =>\n    set((state) => ({\n      data: state.transitionConfig?.data,\n      transitionConfig: null,\n    })),\n}));\n\nconst useStore = createHook<Store>(store);\n\nexport { store, useStore };\n","import { ReactNode, useLayoutEffect, createContext, useMemo } from \"react\";\n\nexport const PageContext = createContext(\"both\");\n","export function pathToHypen(path: string) {\n  const h = path.replace(/\\//g, \"-\");\n  return h.startsWith(\"-\") ? h.substring(1) : h;\n}\n","import { ReactNode, useRef, Suspense } from \"react\";\nimport { CSSTransition } from \"react-transition-group\";\n\nimport { TransitionState } from \"./enums\";\nimport { PageContext } from \"./context\";\nimport { store } from \"./store\";\nimport { pathToHypen } from \"./utils\";\n\ninterface PageWrapperProps {\n  children: ReactNode;\n  pathname: string; // used as unique pathname\n  className?: string;\n  timeout?: number | { enter?: number; exit?: number; appear?: number };\n  detectAnimationEnd?: boolean;\n  detectTransitionEnd?: boolean;\n  onEnter?: () => void;\n  onEntering?: () => void;\n  onEntered?: () => void;\n  onExit?: () => void;\n  onExiting?: () => void;\n  onExited?: () => void;\n}\n\nexport function PageWrapper({\n  children,\n  pathname,\n  className,\n  timeout,\n  detectAnimationEnd,\n  detectTransitionEnd,\n  ...props\n}: PageWrapperProps) {\n  const ref = useRef<HTMLDivElement>(null);\n  const isFirstAppear = !store.getState().from;\n\n  const Fallback = () => {\n    return (\n      <div\n        className={`${className} ${className}-${pathToHypen(\n          pathname\n        )} ${className}-${isFirstAppear ? \"appear\" : \"enter\"}-suspended`}\n      />\n    );\n  };\n\n  return (\n    <Suspense fallback={<Fallback />}>\n      <CSSTransition\n        nodeRef={ref}\n        key={pathname}\n        addEndListener={(done: () => void) => {\n          if (!ref.current) return;\n\n          // are we the entering page or leaving page?\n          const isEnteringPage = pathname === store.getState().to;\n          const isExitingPage = pathname === store.getState().from;\n\n          // Attachs CSS listeners unless user has registered callbacks\n          if (\n            (isEnteringPage && store.getState().onEnteringCount === 0) ||\n            (isExitingPage && store.getState().onExitingCount === 0)\n          ) {\n            if (detectAnimationEnd) {\n              ref.current.addEventListener(\"animationend\", done, false);\n            }\n            if (detectTransitionEnd) {\n              ref.current.addEventListener(\"transitionend\", done, false);\n            }\n          }\n\n          if (isEnteringPage) {\n            store.setState({ enterDone: done });\n          } else if (isExitingPage) {\n            store.setState({ exitDone: done });\n          }\n        }}\n        timeout={timeout}\n        classNames={className}\n        appear={true}\n        unmountOnExit\n        {...props}\n        onEnter={(isAppearing) => {\n          store.setState({\n            transitionStateTo: isAppearing\n              ? TransitionState.APPEAR\n              : TransitionState.ENTER,\n          });\n          if (props.onEnter) props.onEnter();\n        }}\n        onEntering={(isAppearing) => {\n          store.setState({\n            transitionStateTo: isAppearing\n              ? TransitionState.APPEARING\n              : TransitionState.ENTERING,\n          });\n          if (props.onEntering) props.onEntering();\n        }}\n        onEntered={(isAppearing) => {\n          store.setState({\n            transitionStateTo: isAppearing\n              ? TransitionState.APPEARED\n              : TransitionState.ENTERED,\n          });\n          if (props.onEntered) props.onEntered();\n        }}\n        onExit={() => {\n          store.setState({ transitionStateFrom: TransitionState.EXIT });\n          if (props.onExit) props.onExit();\n        }}\n        onExiting={() => {\n          store.setState({ transitionStateFrom: TransitionState.EXITING });\n          if (props.onExiting) props.onExiting();\n        }}\n        onExited={() => {\n          store.setState({ transitionStateFrom: TransitionState.EXITED });\n          if (props.onExited) props.onExited();\n        }}\n      >\n        <div\n          className={`${className} ${className}-${pathToHypen(pathname)}`}\n          ref={ref}\n        >\n          export{\" \"}\n          <PageContext.Provider value={pathname}>\n            {children}\n            export{\" \"}\n          </PageContext.Provider>\n        </div>\n      </CSSTransition>\n    </Suspense>\n  );\n}\n","import { ReactNode, useLayoutEffect, useMemo } from \"react\";\nimport { SwitchTransition, TransitionGroup } from \"react-transition-group\";\n\nimport { TransitionState } from \"./enums\";\nimport { store } from \"./store\";\nimport { PageWrapper } from \"./PageWrapper\";\n\nexport type TransitionMode = \"out-in\" | \"in-out\" | \"sync\";\n\ninterface PageTransitionProps {\n  children: ReactNode;\n  pageName: string; // used as unique pathname\n  mode?: TransitionMode;\n  className?: string;\n  timeout?: number | { enter?: number; exit?: number; appear?: number };\n  detectAnimationEnd?: boolean;\n  detectTransitionEnd?: boolean;\n}\n\nexport function PageTransitions({\n  children,\n  pageName,\n  mode = \"out-in\",\n  className = \"page\",\n  timeout,\n  detectAnimationEnd = true,\n  detectTransitionEnd = true,\n}: PageTransitionProps) {\n  const pathname = pageName;\n\n  useMemo(() => {\n    // update store.to before next child render\n    store.getState().to = pathname;\n    store.getState().transitionStateTo = TransitionState.SUSPENDED;\n    store.getState().transitionStateFrom = TransitionState.SUSPENDED;\n  }, [pathname]);\n\n  // entering pathname\n  useLayoutEffect(() => {\n    // can we use setState instead of raw access in useMemo above?\n    // store.setState({\n    //   to: pathname,\n    //   transitionStateTo: \"mount\",\n    //   transitionStateFrom: \"mount\"\n    // });\n\n    // set temporary transtion data for this navigation\n    store.getState().applyTransitionConfig();\n\n    return () => {\n      // leaving pathname\n      store.setState({ from: pathname });\n    };\n  }, [pathname]);\n\n  function renderPage() {\n    return (\n      <PageWrapper\n        key={pathname}\n        pathname={pathname}\n        className={className}\n        timeout={timeout}\n        detectAnimationEnd={detectAnimationEnd}\n        detectTransitionEnd={detectTransitionEnd}\n      >\n        {children}\n      </PageWrapper>\n    );\n  }\n\n  function renderSwitchTransition(mode: \"out-in\" | \"in-out\") {\n    return <SwitchTransition mode={mode}>{renderPage()}</SwitchTransition>;\n  }\n\n  function renderSyncTransition() {\n    return (\n      <TransitionGroup component={null} appear enter exit>\n        {renderPage()}\n      </TransitionGroup>\n    );\n  }\n\n  return (\n    <>\n      {mode === \"sync\" ? renderSyncTransition() : renderSwitchTransition(mode)}\n    </>\n  );\n}\n\nexport function setPageTransitionData(data: any) {\n  store.setState({ transitionConfig: { data } });\n}\n","import { store, useStore } from \"./store\";\nimport { useLayoutEffect, useContext } from \"react\";\n\nimport { PageContext } from \"./context\";\n\ninterface usePageTransitionProps {\n  onAppear?: (state?: { data?: any }) => void;\n  onAppearing?: (state?: { data?: any; done: () => void }) => void;\n  onAppeared?: (state?: { data?: any }) => void;\n  onEnter?: (state?: { from: string | null; data?: any }) => void;\n  onEntering?: (state?: {\n    from: string | null;\n    to: string | null;\n    data?: any;\n    done: () => void;\n  }) => void;\n  onEntered?: (state?: { from: string | null; data?: any }) => void;\n  onExit?: (state?: { to: string | null; data?: any }) => void;\n  onExiting?: (state?: {\n    from: string | null;\n    to: string | null;\n    data?: any;\n    done: () => void;\n  }) => void;\n}\n\nexport function usePageTransition({\n  onAppear,\n  onAppearing,\n  onAppeared,\n  onEnter,\n  onEntering,\n  onEntered,\n  onExit,\n  onExiting,\n}: usePageTransitionProps = {}) {\n  const pageContext = useContext(PageContext);\n  const transitionStateTo = useStore((s) => s.transitionStateTo);\n  const transitionStateFrom = useStore((s) => s.transitionStateFrom);\n\n  const enterDone = useStore((s) => s.enterDone);\n  const exitDone = useStore((s) => s.exitDone);\n  const from = useStore((s) => s.from);\n  const to = useStore((s) => s.to);\n  const data = useStore((s) => s.data);\n\n  const isEnteringPage = pageContext === store.getState().to;\n  const isExitingPage = pageContext === store.getState().from;\n\n  // keep track of registered callbacks\n  useLayoutEffect(() => {\n    if (isEnteringPage && !!onEntering) {\n      store.setState({ onEnteringCount: store.getState().onEnteringCount + 1 });\n    }\n    return () => {\n      if (isEnteringPage && !!onEntering) {\n        store.setState({\n          onEnteringCount: store.getState().onEnteringCount - 1,\n        });\n      }\n    };\n  }, [isEnteringPage, onEntering]);\n\n  // keep track of registered callbacks\n  useLayoutEffect(() => {\n    if (isExitingPage && !!onExiting) {\n      store.setState({ onExitingCount: store.getState().onExitingCount + 1 });\n    }\n    return () => {\n      if (isExitingPage && !!onExiting) {\n        store.setState({\n          onExitingCount: store.getState().onExitingCount - 1,\n        });\n      }\n    };\n  }, [isExitingPage, onExiting]);\n\n  // Trigger callbacks on \"to\" page\n  useLayoutEffect(\n    function triggerEnterCallbacks() {\n      if (isEnteringPage) {\n        if (transitionStateTo === \"appear\") {\n          onAppear?.();\n        } else if (transitionStateTo === \"appearing\") {\n          onAppearing?.({ done: enterDone });\n        } else if (transitionStateTo === \"appeared\") {\n          onAppeared?.();\n        } else if (transitionStateTo === \"enter\") {\n          onEnter?.({ from: store.getState().from });\n        } else if (transitionStateTo === \"entering\") {\n          onEntering?.({\n            from: store.getState().from,\n            to: store.getState().to,\n            done: enterDone,\n            data: store.getState().data,\n          });\n        } else if (transitionStateTo === \"entered\") {\n          onEntered?.({ from: store.getState().from });\n        }\n      }\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [transitionStateTo] // only trigger on transition state change\n  );\n\n  // Trigger exirt callbacks on \"from\" page\n  useLayoutEffect(\n    function triggerExitCallbacks() {\n      if (isExitingPage) {\n        if (transitionStateFrom === \"exit\") {\n          onExit?.({ to: store.getState().to });\n        } else if (transitionStateFrom === \"exiting\") {\n          onExiting?.({\n            from: store.getState().from,\n            to: store.getState().to,\n            done: exitDone,\n            data: store.getState().data,\n          });\n        }\n      }\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [transitionStateFrom] // only trigger on transition state change\n  );\n\n  // Return state from hook\n  if (pageContext === \"both\") {\n    // hook used outside of page context\n    return {\n      transitionStateTo,\n      transitionStateFrom,\n      from,\n      to,\n      data,\n    };\n  } else {\n    // hook used inside a page context\n    return {\n      transitionState: isEnteringPage ? transitionStateTo : transitionStateFrom,\n      from,\n      to,\n      data,\n    };\n  }\n}\n"],"names":["TransitionState","store","create","set","transitionStateTo","SUSPENDED","transitionStateFrom","transitionConfig","exitDone","enterDone","from","to","data","onEnteringCount","onExitingCount","applyTransitionConfig","state","_state$transitionConf","useStore","createHook","PageContext","createContext","pathToHypen","path","h","replace","startsWith","substring","children","pathname","className","timeout","detectAnimationEnd","detectTransitionEnd","props","_objectWithoutPropertiesLoose","_ref","_excluded","ref","useRef","isFirstAppear","getState","_jsx","jsx","Suspense","fallback","CSSTransition","_extends","nodeRef","addEndListener","done","current","isEnteringPage","isExitingPage","addEventListener","setState","classNames","appear","unmountOnExit","onEnter","isAppearing","APPEAR","ENTER","onEntering","APPEARING","ENTERING","onEntered","APPEARED","ENTERED","onExit","EXIT","onExiting","EXITING","onExited","EXITED","_jsxs","jsxs","Provider","value","PageTransitions","_ref$mode","mode","_ref$className","_ref$detectAnimationE","_ref$detectTransition","pageName","renderPage","PageWrapper","useMemo","useLayoutEffect","_Fragment","TransitionGroup","component","enter","exit","SwitchTransition","renderSwitchTransition","setPageTransitionData","usePageTransition","_temp","onAppear","onAppearing","onAppeared","pageContext","useContext","s","transitionState"],"mappings":"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"}